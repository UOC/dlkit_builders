    ##
    # Implemented via osid.calendaring.Duration init.txt template

    ##
    # The default TimeType identifier triple for the Python datetime 
    # module should probably come from a config file or something. But here it 
    # here it is for now:
    _defaultTimeAuthority = 'python.org'
    _defaultTimeNamespace = 'datetime.time'
    _defaultTimeIdentifier = 'PYTIME'
    
    ##
    # The default CelendarType identifier triple for the Python datetime 
    # module should probably come from a config file or something. But  
    # here it is for now:
    _defaultCalendarAuthority = 'python.org'
    _defaultCalendarNamespace = 'datetime.date'
    _defaultCalendarIdentifier = 'PYDATE'
    
    ##
    # These are being explicitly declared  as attribute to make sure
    # none of them fall through to __getattr__.
    global _timeType
    global _calendarType
    global _aeons
    global _epochs
    global _millennia
    global _centuries
    global _scores
    global _bluemoons
    global _years
    global _months
    global _days
    global _uncertaintyUnits
    global _uncertaintyMinus
    global _uncertaintyPlus
    global _hours
    global _minutes
    global _seconds
    global _milliseconds
    global _microseconds
    global _nanoseconds
    global _picoseconds
    global _femtoseconds
    global _attoseconds
    global _zeptoseconds
    global _yoctoseconds
    global _xoxxoseconds
    global _weebleseconds
    global _vatoseconds
    global _undaseconds
    global _planckSeconds
    global _granularity
    
    def __init__(self, pythonTimeDeltaObject = None,
                       timeType = None,
                       calendarType = None,
                       aeons = 0,
                       epochs = 0,
                       millennia = 0,
                       centuries = 0,
                       scores = 0,
                       bluemoons = 0,
                       years = 0,
                       months = 0,
                       days = 0,
                       hours = 0,
                       minutes = 0,
                       seconds = 0,
                       milliseconds = 0,
                       microseconds = 0,
                       nanoseconds = 0,
                       picoseconds = 0,
                       femtoseconds = 0,
                       attoseconds = 0,
                       zeptoseconds = 0,
                       yoctoseconds = 0,
                       xoxxoseconds = 0,
                       weebleseconds = 0,
                       vatoseconds = 0,
                       undaseconds = 0,
                       planckSeconds = 0,
                       definesUncertainty = None,
                       uncertaintyUnits = None,
                       uncertaintyMinus = None,
                       uncertaintyPlus = None,
                       granularity = None):

        import datetime
        self._myTimeDelta = pythonTimeDeltaObject
        #### This is all WRONG!!!!! ####
        if pythonTimeDeltaObject:
            self._hours = pythonTimeDeltaObject.seconds / 3600
            self._minutes = pythonTimeDeltaObject.seconds / 60
            self._seconds = pythonTimeDeltaObject.seconds
            self._milliseconds = pythonDateTimeObject.microseconds / 1000
            self._microseconds = pythonDateTimeObject.microseconds
            if self._microseconds:
                self._granularity = 'MICROSECOND'
            elif self._milliseconds:
                self._granularity = 'MILLISECOND'
            elif self._seconds:
                self._granularity = 'SECOND'
            elif self._minutes:
                self._granularity = 'MINUTE'
            elif self._hours:
                self._granularity = 'HOUR'
            else:
                self._granularity = 'SECOND' # default to seconds
        else:
            self._hours = hours
            self._minutes = minutes
            self._seconds = seconds
            self._milliseconds = milliseconds
            self._microseconds = microseconds
        self._nanoseconds = nanoseconds
        self._picoseconds = picoseconds
        self._femtoseconds = femtoseconds
        self._attoseconds = attoseconds
        self._zeptoseconds = zeptoseconds
        self._yoctoseconds = yoctoseconds
        self._xoxxoseconds = xoxxoseconds
        self._weebleseconds = weebleseconds
        self._vatoseconds = vatoseconds
        self._undaseconds = undaseconds
        self._planckSeconds = planckSeconds

        if planckSeconds:   self._granularity = 'PLANCKSECOND'
        elif undaseconds:   self._granularity = 'UNDASECOND'
        elif vatoseconds:   self._granularity = 'VATOSECOND'
        elif weebleseconds: self._granularity = 'WEEBLESECOND'
        elif xoxxoseconds:  self._granularity = 'XOXXOSECOND'
        elif yoctoseconds:  self._granularity = 'YOCTOSECOND'
        elif zeptoseconds:  self._granularity = 'ZEPTOSECOND'
        elif attoseconds:   self._granularity = 'ATTOSECOND'
        elif femtoseconds:  self._granularity = 'FEMTOSECOND'
        elif picoseconds:   self._granularity = 'PICOSECOND'
        elif nanoseconds:   self._granularity = 'NANOSECOND'
        elif microseconds:  self._granularity = 'MICROSECOND'
        elif milliseconds:  self._granularity = 'MILLISECOND'
        else: self._granularity = 'SECOND' # default to seconds
        
        if timeType:
            self._timeType = timeType
        else:
            if pythonTimeDeltaObject:
                self._timeType = self._get_type(self._defaultTimeAuthority,
                                               self._defaultTimeNamespace,
                                               self._defaultTimeIdentifier)
                self._calendarType = self._get_type(self._defaultCalendarAuthority,
                                                    self._defaultCalendarNamespace,
                                                    self._defaultCalendarIdentifier)

            else:
                self._timeType = self._get_type('unknown',
                                               'unknown',
                                               'unknown')

    def _get_type(self, authority, namespace, identifier):
        from type_kit.dj_type import Type
        try:
            from type_kit.dj_type import TypeManager
        except:
            returnType = self._init_type(authority, namespace, identifier)
        else:
            if not TypeManager().supportsTypeLookup():
                returnType = self._init_type(authority, namespace, identifier)
            else:
                try: 
                    returnType = TypeManager().TypeLookupSession().getType()
                except:
                    returnType = self._init_type(authority, namespace, identifier)
        return returnType

    def _init_type(self, authority, namespace, identifier):
        from type_kit.dj_type import Type
        return Type(authority = authority,
                    namespace = namespace,
                    identifier = identifier)
           
    def __getattr__(self, attrName):
        if self._myDateTime:
            return getattr(self._myDateTime, attrName)
